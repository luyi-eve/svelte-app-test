import{w as d,d as b}from"./C3BaivxG.js";import{w as v}from"./CwplC9Io.js";let g,w;function S(t){if(typeof document>"u")return;clearTimeout(g),clearTimeout(w);const n=document.createElement("style"),o=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);n.appendChild(o);const e=()=>document.head.appendChild(n),s=()=>document.head.removeChild(n);if(typeof window.getComputedStyle<"u"){e(),t(),window.getComputedStyle(n).opacity,s();return}if(typeof window.requestAnimationFrame<"u"){e(),t(),window.requestAnimationFrame(s);return}e(),g=window.setTimeout(()=>{t(),w=window.setTimeout(s,120)},120)}function y(t){return t.filter(n=>n.length>0)}const E={getItem:t=>null,setItem:(t,n)=>{}},l=typeof document<"u",L=["dark","light","system"],C=d("mode-watcher-mode"),M=d("mode-watcher-theme"),T=q(),V=K(),A=d(void 0),_=z(),k=d(!0),I=d([]),N=d([]),Q=D();x();function q(){const t="light",o=(l?localStorage:E).getItem(s());let e=p(o)?o:t;function s(){return v(C)}const{subscribe:u,set:r}=d(e,()=>{if(!l)return;const i=c=>{if(c.key!==s())return;const f=c.newValue;p(f)?r(e=f):r(e=t)};return addEventListener("storage",i),()=>removeEventListener("storage",i)});function a(i){r("light"),typeof window<"u"&&(localStorage.setItem(s(),"light"),document.documentElement.setAttribute("data-theme","light"))}return{subscribe:u,set:a}}function z(){const t=l?localStorage:E,n=t.getItem(e());let o=n??"";function e(){return v(M)}const{subscribe:s,set:u}=d(o,()=>{if(!l)return;const a=i=>{if(i.key!==e())return;const c=i.newValue;u(c===null?o="":o=c)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function r(a){u(o=a),t.setItem(e(),o)}return{subscribe:s,set:r}}function K(){let n=!0;const{subscribe:o,set:e}=d(void 0,()=>{if(!l)return;const r=i=>{n&&e(i.matches?"light":"dark")},a=window.matchMedia("(prefers-color-scheme: light)");return a.addEventListener("change",r),()=>a.removeEventListener("change",r)});function s(){if(!l)return;const r=window.matchMedia("(prefers-color-scheme: light)");e(r.matches?"light":"dark")}function u(r){n=r}return{subscribe:o,query:s,tracking:u}}function D(){const{subscribe:t}=b([T,V,A,k,I,N],([n,o,e,s,u,r])=>{if(!l)return;const a=n==="system"?o:n,i=y(u),c=y(r);function f(){const m=document.documentElement,h=document.querySelector('meta[name="theme-color"]');a==="light"?(i.length&&m.classList.remove(...i),c.length&&m.classList.add(...c),m.style.colorScheme="light",h&&e&&h.setAttribute("content",e.light)):(c.length&&m.classList.remove(...c),i.length&&m.classList.add(...i),m.style.colorScheme="dark",h&&e&&h.setAttribute("content",e.dark))}return s?S(f):f(),a});return{subscribe:t}}function x(){const{subscribe:t}=b([_,k],([n,o])=>{if(!l)return;function e(){document.documentElement.setAttribute("data-theme",n)}return o?S(e):e(),n});return{subscribe:t}}function p(t){return typeof t!="string"?!1:L.includes(t)}export{k as a,A as b,I as c,Q as d,M as e,N as l,C as m,V as s,_ as t,T as u};
